Create table category (
    id          int             AUTO_INCREMENT,
    title       varchar (64)    NOT NULL,
    alias       varchar (64)    NOT NULL,
    primary key (id),
    unique (alias)
);

create table user(
    id          int             AUTO_INCREMENT,
    login       varchar(32)     NOT NULL,
    `password`  varchar(128)    NOT NULL,
    email       varchar(255)    NOT NULL,
    lastname    varchar(64)     NOT NULL,
    firstname   varchar(64)     NOT NULL,
    primary key (id),
    unique (login),
    unique (email)
);

create table post
(
    id          int          AUTO_INCREMENT,
    author_id   int          NOT NULL,
    category_id int          NOT NULL,
    title       varchar(128) NOT NULL,
    alias       varchar(128)NOT NULL,
    content     longtext     NOT NULL,
    publish_date datetime    NOT NULL,
    `status`    varchar(132) NOT NULL,
    primary key (id),
    unique (alias),
    foreign key (author_id) references user(id),
    foreign key (category_id) references category(id)
);

Create table post_cover(
    id          int          AUTO_INCREMENT,
    post_id     int          NOT NULL,
    filename    varchar(128) NOT NULL,
    title       varchar (64) NOT NULL,
    primary key (id),
    unique (filename),
    foreign key (post_id) references post(id)
);

Create table post_comment(
    id          int          AUTO_INCREMENT,
    user_id     int          NOT NULL,
    post_id     int          NOT NULL,
    created_date datetime    NOT NULL,
    `comment`    varchar(255) NOT NULL,
    primary key (id),
    foreign key (user_id) references user(id),
    foreign key (post_id) references post(id)
);